#!/usr/bin/env bash

fname=`basename $1`

# set positional arguments to the parsed fields of file name
set $(<<<$fname $HOME/bin/parseX10-fnames.sed)
#echo $@; exit 0
sample=$1
machine=$2
index=$3
flowcell=$4
lane=$5
fwrev=$6

# read group tags
SM=$sample
LB=${sample}_${index}
PU=${flowcell}_${lane}
ID=${sample}_${index}_$PU
CN=X10
PL=ILLUMINA

# output: read group (@RG) tags for SAM format; for specifications see
# http://samtools.github.io/hts-specs/SAMv1.pdf
echo -r "ID:$ID" -r "LB:$LB" -r "SM:$SM" -r "PU:$PU" -r "CN:$CN" -r "PL:$PL"
